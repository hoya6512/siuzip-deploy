<ul class="blog-list list-group">
  <%if (data.length == 0) {%>
  <h4 class="text-center">결과가 없습니다.</h4>
  <%}%> <% for (var i = 0; i < data.length; i++) {%>
  <li class="shadow-sm p-3">
    <div class="row">
      <div class="col-lg-2">
        <a href="/blog-detail/<%= data[i]._id %>">
          <img
            class="blog-img img-fluid rounded"
            src="<%= data[i].이미지%>"
            onerror="this.src='/image/icon-image-not-found.jpg'"
          />
        </a>
      </div>
      <div class="col-lg-10">
        <p class="mb-2 mt-1">
          <span class="category py-1 px-2 rounded-pill"
            ><%= data[i].카테고리 %></span
          >
        </p>
        <h2 class="title">
          <a
            class="link-body-emphasis link-underline link-underline-opacity-0 link-underline-opacity-0-hover"
            style="font-weight: 900"
            href="/blog-detail/<%= data[i]._id %>"
            id="title<%= data[i]._id%>"
          >
            <%= data[i].제목 %>
          </a>
        </h2>
        <a href="/blog-detail/<%= data[i]._id %>">
          <p
            class="detail text-emphasis-secondary rounded shadow-sm p-1"
            style="background-color: #f7f7f7"
          >
            <%= data[i].내용.replace(/<[^>]*>?/g, '') %>
          </p>
        </a>

        <div class="detail-info">
          <div class="detail-info-left">
            <img
              class="img-fluid rounded-circle"
              src="<%= data[i].아이콘 %>"
              onerror="this.src='/image/guest.png'"
              style="width: 40px; height: 40px"
            />
            <div class="detail-info-content">
              <span><%= data[i].작성자id %></span>
              <span class="text-bar"></span>
              <span><%= data[i].작성일자 %></span>
            </div>
          </div>
          <div class="detail-info-right">
            <a href="/blog-detail/<%= data[i]._id %>">
              <p class="comment">
                <i class="fa-solid fa-comments"></i>(<%= data[i].댓글.length %>)
              </p>
            </a>
          </div>
        </div>
      </div>
    </div>
  </li>
  <%}%>
</ul>

<style>
  .up-button {
    position: fixed;
    bottom: 20px;
    right: 20px;
    z-index: 10;
  }

  .blog-list > li {
    height: auto;
    margin-top: 20px;
    list-style: none;
    border: thin solid #8b9dc3;
    border-radius: 10px;
  }

  .blog-list li a {
    text-decoration: none;
    display: block;
    color: black;
  }

  .detail {
    word-break: break-all;
    word-wrap: normal;
    display: -webkit-box;
    overflow: hidden;
    -webkit-line-clamp: 2;
    -webkit-box-orient: vertical;
    margin-bottom: 12px;
    height: 56px;
  }

  .title-name h1 {
    text-align: center;

    text-transform: uppercase;
    font-size: 26px;
    letter-spacing: 1px;

    display: grid;
    grid-template-columns: 1fr auto 1fr;
    grid-template-rows: 16px 0;
    grid-gap: 22px;

    font-weight: 300;
    font-size: 30px;
    color: #080808;
  }

  .title-name h1:after,
  .title-name h1:before {
    content: " ";
    display: block;
    border-bottom: 2px solid #ccc;
    background-color: #f8f8f8;
  }

  .category {
    border: thin solid #8b9dc3;
    background-color: #dfe3ee;
    color: #3b5998;
    font-weight: 600;
  }

  .detail-info {
    display: flex;
    justify-content: space-between;
    align-items: center;
  }

  .detail-info-left {
    display: flex;
    align-items: center;
  }

  .detail-info-right {
    align-items: center;
  }

  .comment {
    margin-bottom: 0px;
    text-align: center;
  }
  .detail-info-content {
    display: flex;

    margin-left: 10px;
  }

  .text-bar {
    width: 2px;
    height: 25px;
    background-color: black;
    margin-left: 10px;
    margin-right: 10px;
  }

  .blog-img {
    width: 100%;
    height: 100%;
    object-fit: cover;
  }

  @media screen and (max-width: 738px) {
    .detail-info .detail-info-content {
      display: flex;
      flex-direction: column;
      margin-left: 3px;
    }

    .text-bar {
      display: none;
    }

    .blog-img {
      padding-bottom: 20px;
    }

    .detail {
      word-break: break-all;
      word-wrap: normal;
      display: -webkit-box;
      overflow: hidden;
      -webkit-line-clamp: 3;
      -webkit-box-orient: vertical;
      margin-bottom: 20px;
      height: 80px;
    }
  }
</style>
